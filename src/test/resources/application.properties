# Test configuration for all tests - uses PostgreSQL Testcontainers via Dev Services
# Override for .env datasource configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.driver=org.postgresql.Driver

# Enable Dev Services for automatic Testcontainers management
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=postgis/postgis:17-3.5-alpine

# Hibernate ORM Configuration
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file
quarkus.hibernate-orm.database.version-check.enabled=false
quarkus.hibernate-orm.mapping.jackson.convert-to-json-mode=enabled

# Logging
quarkus.log.level=WARN
quarkus.log.category."villagecompute.homepage".level=INFO

# Disable OIDC security for tests
quarkus.oidc.enabled=false
quarkus.security.auth.enabled-in-dev-mode=false

# Disable Hibernate Search Elasticsearch for tests
quarkus.hibernate-search-orm.enabled=false

# Disable OpenTelemetry for tests
quarkus.otel.sdk.disabled=true
quarkus.langchain4j.anthropic.api-key=test-key-for-mocking
