# Test configuration for all tests - uses PostgreSQL Testcontainers via Dev Services
# Override for .env datasource configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.driver=org.postgresql.Driver

# Enable Dev Services for automatic Testcontainers management
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=postgis/postgis:17-3.5-alpine

# Hibernate ORM Configuration
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file
quarkus.hibernate-orm.database.version-check.enabled=false
quarkus.hibernate-orm.mapping.jackson.convert-to-json-mode=enabled

# Logging
quarkus.log.level=WARN
quarkus.log.category."villagecompute.homepage".level=INFO

# Disable OIDC security for tests
quarkus.oidc.enabled=false
quarkus.security.auth.enabled-in-dev-mode=false

# Disable Hibernate Search Elasticsearch for tests
quarkus.hibernate-search-orm.enabled=false

# Disable OpenTelemetry for tests
quarkus.otel.sdk.disabled=true

# LangChain4j configuration for tests
# Specify providers: Anthropic for chat, OpenAI for embeddings
quarkus.langchain4j.chat-model.provider=anthropic
quarkus.langchain4j.embedding-model.provider=openai
# Anthropic chat model config (mocked in tests via @InjectMock)
quarkus.langchain4j.anthropic.api-key=sk-ant-test-dummy-key-00000000000000000000000000000000
quarkus.langchain4j.anthropic.chat-model.model-name=claude-3-5-sonnet-20241022
# OpenAI embedding model config (mocked in tests via @InjectMock)
# Note: Anthropic doesn't provide embedding models; using OpenAI
quarkus.langchain4j.openai.api-key=sk-proj-test-dummy-key-0000000000000000000000000000000000000000000000
quarkus.langchain4j.openai.embedding-model.model-name=text-embedding-3-small

# AI Model Configuration (Feature I4.T6)
ai.model.sonnet.name=claude-3-5-sonnet-20241022
ai.model.haiku.name=claude-3-haiku-20240307
ai.model.temperature=0.7
ai.model.max-tokens=4096
ai.model.timeout-seconds=60
ai.model.max-retries=3

# Sitemap Configuration (Feature I6.T5)
villagecompute.homepage.base-url=http://localhost:8080
villagecompute.cdn.base-url=http://localhost:9000
villagecompute.storage.buckets.listings=listings
